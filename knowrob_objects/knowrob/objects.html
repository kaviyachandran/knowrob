<!DOCTYPE html>
<html>
<head>
<title>objects.pl</title>

<link rel="stylesheet" type="text/css" href="../../pldoc.css">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

</head>
<body>


<h1 class="file"><span style="float:right"></span>objects.pl -- Utilities for reasoning about objects</h1>

<dl class="tags">
<dt class="keyword-author">author</dt><dd class="keyword-author">- Moritz Tenorth</dd><dd class="keyword-author">- Daniel Be√üler</dd>
<dt class="keyword-license">license</dt><dd class="keyword-license">- BSD</dd>
</dl>

<dl>
<dt class="pubdef"><span style="float:right"></span><a name="current_object_pose/2"><b class="pred">current_object_pose</b><var class="arglist">(+Obj:iri, -Pose:list)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">Get the current pose of an object.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of SpatialThing</td></tr>
<tr><td><var>Pose</var></td><td class="argdescr">- The pose term [atom Reference, atom Target, [float x,y,z], [float qx,qy,qz,qw]]</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_pose_at_time/3"><b class="pred">object_pose_at_time</b><var class="arglist">(+Obj:iri, +Instant:float, ?Pose:term)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">

<blockquote>
True if <var>Pose</var> is the pose of <var>Obj</var> at time <var>Instant</var>.
Poses may be requested in particular reference frames
by partially specifying <var>Pose</var>. For instance, to request the pose in camera frame:
<var>Pose</var>=['head_rgb_camera',ObjFrame,Position,Orientation]
</blockquote>

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of SpatialThing</td></tr>
<tr><td><var>Instant</var></td><td class="argdescr">- The time instant (float or Timepoint:iri)</td></tr>
<tr><td><var>Pose</var></td><td class="argdescr">- The pose [atom Reference, atom Target, [float x,y,z], [float qx,qy,qz,qw]]</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_trajectory/4"><b class="pred">object_trajectory</b><var class="arglist">(+Obj, +Interval, +Density, -Trajectory)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">Sample trajectory of <var>Obj</var>'s origin frame within <var>Interval</var>.
The trajectory either has Count (<var>Density</var>=<code>num_samples(Count)</code>) samples,
or Delta (<var>Density</var>=<code>dt(Delta)</code>) temporal distance between samples (in seconds).
<var>Trajectory</var> is a list of poses
[reference_frame, source_frame, position, orientation]

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of SpatialThing</td></tr>
<tr><td><var>Interval</var></td><td class="argdescr">- <var>Interval</var> of the trajectory</td></tr>
<tr><td><var>Density</var></td><td class="argdescr">- <var>Trajectory</var> density</td></tr>
<tr><td><var>Trajectory</var></td><td class="argdescr">- Sample trajectory (list of pose terms)

<p>
<code class="nofile">TODO</code>(daniel): Implement more efficient way of sampling trajectories.</p>
<ul>
<li>create interface for mongo to query many transforms at once</li>
</ul>
</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_frame_name/2"><b class="pred">object_frame_name</b><var class="arglist">(+Obj:iri, ?FrameName:atom)</var></a> is <b class="det">det</b></dt><dd class="defbody">True if <var>FrameName</var> is the name of origin frame of the object.
Fallback is to use the IRI suffix of <var>Obj</var>.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of SpatialThing</td></tr>
<tr><td><var>FrameName</var></td><td class="argdescr">- The frame name</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_distance/3"><b class="pred">object_distance</b><var class="arglist">(+A:iri, +B:iri, ?Distance:float)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">Computes euclidean distance between <var>A</var> and <var>B</var>.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>A</var></td><td class="argdescr">- Instance of SpatialThing</td></tr>
<tr><td><var>B</var></td><td class="argdescr">- Instance of SpatialThing</td></tr>
<tr><td><var>Distance</var></td><td class="argdescr">- The current distance between <var>A</var> and <var>B</var></td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_color/2"><b class="pred">object_color</b><var class="arglist">(?Obj:iri, ?Col:list)</var></a> is <b class="det">det</b></dt><dd class="defbody">True if <var>Col</var> is the main color of <var>Obj</var>.
<var>Col</var> is encoded as as [float red, green, blue, alpha], on a scale of 0-1.
Fallback color is [0.5, 0.5, 0.5, 1].

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of a subclass of EnduringThing-Localized</td></tr>
<tr><td><var>Col</var></td><td class="argdescr">- Main color of the object</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_assert_color/2"><b class="pred">object_assert_color</b><var class="arglist">(+Obj:iri, +Col:list)</var></a> is <b class="det">det</b></dt><dd class="defbody">Assert object main color property.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of a subclass of EnduringThing-Localized</td></tr>
<tr><td><var>Col</var></td><td class="argdescr">- Main color of the object</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_dimensions/4"><b class="pred">object_dimensions</b><var class="arglist">(?Obj:iri, ?Depth:float, ?Width:float, ?Height:float)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">True if <var>Depth</var> x <var>Width</var> x <var>Height</var> are (exactly) the extends of the bounding box of <var>Obj</var>.
NOTE that we use ROS conventions here: Coordinate systems in ROS are
always right-handed, with X forward, Y left, and Z up.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of SpatialThing</td></tr>
<tr><td><var>Depth</var></td><td class="argdescr">- <var>Depth</var> of the bounding box (x-dimension)</td></tr>
<tr><td><var>Width</var></td><td class="argdescr">- <var>Width</var> of the bounding box (y-dimension)</td></tr>
<tr><td><var>Height</var></td><td class="argdescr">- <var>Height</var> of the bounding box (z-dimension)</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="comp_depthOfObject/2"><b class="pred">comp_depthOfObject</b><var class="arglist">(+Obj:iri, ?Depth:number)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">Computes the depth of <var>Obj</var> from its bounding box.</dd>
<dt class="pubdef"><span style="float:right"></span><a name="comp_widthOfObject/2"><b class="pred">comp_widthOfObject</b><var class="arglist">(+Obj:iri, ?Width:number)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">Computes the width of <var>Obj</var> from its bounding box.</dd>
<dt class="pubdef"><span style="float:right"></span><a name="comp_heightOfObject/2"><b class="pred">comp_heightOfObject</b><var class="arglist">(+Obj:iri, ?Height:number)</var></a> is <b class="det">semidet</b></dt><dd class="defbody">Computes the height of <var>Obj</var> from its bounding box.</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_assert_dimensions/4"><b class="pred">object_assert_dimensions</b><var class="arglist">(+Obj:iri, +Depth:float, +Width:float, +Height:float)</var></a> is <b class="det">det</b></dt><dd class="defbody">Assert object dimension properties.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of a subclass of EnduringThing-Localized</td></tr>
<tr><td><var>Depth</var></td><td class="argdescr">- <var>Depth</var> of the bounding box (x-dimension)</td></tr>
<tr><td><var>Width</var></td><td class="argdescr">- <var>Width</var> of the bounding box (y-dimension)</td></tr>
<tr><td><var>Height</var></td><td class="argdescr">- <var>Height</var> of the bounding box (z-dimension)</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_mesh_path/2"><b class="pred">object_mesh_path</b><var class="arglist">(+Obj:iri, -FilePath:atom)</var></a> is <b class="det">det</b></dt><dd class="defbody">True if <var>FilePath</var> is a path to a mesh file (stl or dae) for <var>Obj</var>.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- Instance of a subclass of EnduringThing-Localized</td></tr>
<tr><td><var>FilePath</var></td><td class="argdescr">- the path (usually a package:// path)</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="comp_tf_pose/2"><b class="pred">comp_tf_pose</b><var class="arglist">(+Obj, -Pose)</var></a></dt>
<dt class="pubdef"><span style="float:right"></span><a name="comp_tf_pose/3"><b class="pred">comp_tf_pose</b><var class="arglist">(+Obj, -Pose, +Interval)</var></a></dt><dd class="defbody">Computes the pose of <var>Obj</var> using a ROS TF
transform client.
This client caches transforms only for
about 20 seconds.</dd>
<dt class="pubdef"><span style="float:right"></span><a name="storagePlaceFor/2"><b class="pred">storagePlaceFor</b><var class="arglist">(St, ObjT)</var></a> is <b class="det">nondet</b></dt><dd class="defbody">Computes the nominal storage location of an object based on assertions for
typePrimaryFunction-containerFor for any of its superclasses. For example,
a Refrigerator is asserted as ...-containerFor perishable items, so
instances of Refrigerator will therefore be returned for e.g. dairy products
or meat products.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>St</var></td><td class="argdescr">- Instance of a knowrob:'StorageConstruct'</td></tr>
<tr><td><var>Obj</var></td><td class="argdescr">- Object class or instance</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="storagePlaceForBecause/3"><b class="pred">storagePlaceForBecause</b><var class="arglist">(St, ObjType, ObjT)</var></a> is <b class="det">nondet</b></dt><dd class="defbody">Computes the nominal storage location of an object based on assertions for
typePrimaryFunction-containerFor for any of its superclasses. For example,
a Refrigerator is asserted as ...-containerFor perishable items, so
instances of Refrigerator will therefore be returned for e.g. dairy products
or meat products.

<p>
In addition to the storage place, this predicate further returns the superclass
of Obj for which this information is asserted (e.g. Perishable)</p>

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>St</var></td><td class="argdescr">- Instance of a knowrob:'StorageConstruct'</td></tr>
<tr><td><var>Obj</var></td><td class="argdescr">- Object class or instance</td></tr>
<tr><td><var>ObjType</var></td><td class="argdescr">- Class for which information about the storage place has been asserted</td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_queries/2"><b class="pred">object_queries</b><var class="arglist">(+Obj:iri, -Queries:list)</var></a> is <b class="det">det</b></dt><dd class="defbody">Gather facts about queries that can be asked about an object.
<var>Queries</var> are represented as [atom category, atom title, atom query].
Category and title are primary used for displaying possible queries
to the user.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- the object name</td></tr>
<tr><td><var>Queries</var></td><td class="argdescr">- list of queries that can be asked about <var>Obj</var></td></tr>
</table>

</dd>
</dl>

</dd>
<dt class="pubdef"><span style="float:right"></span><a name="object_query/4"><b class="pred">object_query</b><var class="arglist">(+Obj:iri, ?QueryGroup:atom, ?QueryTitle:atom, ?Query:atom)</var></a> is <b class="det">det</b></dt><dd class="defbody">True for objects <var>Obj</var> for which a query exists belonging to the group <var>QueryGroup</var>
and labeled with <var>QueryTitle</var>.

<dl class="tags">
<dt class="tag">Arguments:</dt><dd>

<table class="arglist">
<tr><td><var>Obj</var></td><td class="argdescr">- the object name</td></tr>
<tr><td><var>QueryGroup</var></td><td class="argdescr">- category of query</td></tr>
<tr><td><var>QueryTitle</var></td><td class="argdescr">- name of the query</td></tr>
<tr><td><var>Query</var></td><td class="argdescr">- the Prolog-encoded query string</td></tr>
</table>

</dd>
</dl>

</dd>
</dl>

</body>
</html>
